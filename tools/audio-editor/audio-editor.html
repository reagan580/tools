<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music & Audio Editor</title>
    <link rel="stylesheet" href="../../css/tools/audio-editor.css">
</head>
<body>
    <div class="audio-editor-layout">
        <!-- Top Navigation Bar -->
        <nav class="top-nav">
            <div class="nav-left">
                <button id="menuToggle" class="icon-button">‚ò∞</button>
                <div class="file-actions">
                    <button id="openAudioBtn" class="action-button">
                        <span class="icon">üìÇ</span> Open Audio
                    </button>
                    <button id="saveAudioBtn" class="action-button" disabled>
                        <span class="icon">üíæ</span> Save
                    </button>
                    <button id="exportAudioBtn" class="action-button" disabled>
                        <span class="icon">‚¨áÔ∏è</span> Export
                    </button>
                </div>
            </div>
            <div class="nav-center">
                <div class="playback-controls">
                    <button id="skipBackBtn" class="control-button">‚èÆ</button>
                    <button id="playPauseBtn" class="control-button">‚ñ∂</button>
                    <button id="skipForwardBtn" class="control-button">‚è≠</button>
                    <button id="stopBtn" class="control-button">‚èπ</button>
                    <button id="recordBtn" class="control-button">‚è∫</button>
                </div>
                <div class="time-display">
                    <span id="currentTime">00:00:00</span>
                    <span>/</span>
                    <span id="totalTime">00:00:00</span>
                </div>
            </div>
            <div class="nav-right">
                <button id="undoBtn" class="icon-button" disabled>‚Ü©</button>
                <button id="redoBtn" class="icon-button" disabled>‚Ü™</button>
                <button id="settingsBtn" class="icon-button">‚öôÔ∏è</button>
            </div>
        </nav>

        <!-- Main Content Area -->
        <div class="main-container">
            <!-- Left Sidebar - Tools & Effects -->
            <aside class="sidebar left-sidebar">
                <!-- Basic Tools -->
                <div class="sidebar-section basic-tools">
                    <h3>Basic Tools</h3>
                    <div class="tool-buttons">
                        <button class="tool-button" data-tool="cut">
                            <span class="icon">‚úÇÔ∏è</span>
                            <span class="label">Cut</span>
                        </button>
                        <button class="tool-button" data-tool="copy">
                            <span class="icon">üìã</span>
                            <span class="label">Copy</span>
                        </button>
                        <button class="tool-button" data-tool="paste">
                            <span class="icon">üìå</span>
                            <span class="label">Paste</span>
                        </button>
                        <button class="tool-button" data-tool="delete">
                            <span class="icon">üóëÔ∏è</span>
                            <span class="label">Delete</span>
                        </button>
                    </div>
                </div>

                <!-- Effects -->
                <div class="sidebar-section effects">
                    <h3>Effects</h3>
                    <div class="effect-categories">
                        <div class="effect-category">
                            <h4>Dynamics</h4>
                            <button class="effect-button" data-effect="compressor">Compressor</button>
                            <button class="effect-button" data-effect="limiter">Limiter</button>
                            <button class="effect-button" data-effect="gate">Noise Gate</button>
                        </div>
                        <div class="effect-category">
                            <h4>Filters</h4>
                            <button class="effect-button" data-effect="eq">Equalizer</button>
                            <button class="effect-button" data-effect="lowpass">Low Pass</button>
                            <button class="effect-button" data-effect="highpass">High Pass</button>
                        </div>
                        <div class="effect-category">
                            <h4>Time-Based</h4>
                            <button class="effect-button" data-effect="reverb">Reverb</button>
                            <button class="effect-button" data-effect="delay">Delay</button>
                            <button class="effect-button" data-effect="chorus">Chorus</button>
                        </div>
                        <div class="effect-category">
                            <h4>Modulation</h4>
                            <button class="effect-button" data-effect="phaser">Phaser</button>
                            <button class="effect-button" data-effect="flanger">Flanger</button>
                            <button class="effect-button" data-effect="tremolo">Tremolo</button>
                        </div>
                    </div>
                </div>

                <!-- Analysis Tools -->
                <div class="sidebar-section analysis">
                    <h3>Analysis</h3>
                    <div class="analysis-tools">
                        <button class="analysis-button" data-tool="spectrum">
                            <span class="icon">üìä</span>
                            <span class="label">Spectrum Analyzer</span>
                        </button>
                        <button class="analysis-button" data-tool="waveform">
                            <span class="icon">„Ä∞Ô∏è</span>
                            <span class="label">Waveform</span>
                        </button>
                        <button class="analysis-button" data-tool="meter">
                            <span class="icon">üìè</span>
                            <span class="label">Level Meter</span>
                        </button>
                    </div>
                </div>
            </aside>

            <!-- Main Editor Area -->
            <main class="editor-container">
                <!-- Waveform Display -->
                <div class="waveform-container">
                    <canvas id="waveformCanvas"></canvas>
                    <div class="timeline">
                        <!-- Timeline markers will be dynamically generated -->
                    </div>
                </div>

                <!-- Track List -->
                <div class="track-list">
                    <!-- Tracks will be dynamically populated -->
                </div>
            </main>

            <!-- Right Sidebar - Properties & Controls -->
            <aside class="sidebar right-sidebar">
                <!-- Track Properties -->
                <div class="sidebar-section track-properties">
                    <h3>Track Properties</h3>
                    <div class="track-controls">
                        <div class="control-group">
                            <label>Volume</label>
                            <input type="range" class="volume-slider" min="0" max="100" value="100">
                            <span class="value">0 dB</span>
                        </div>
                        <div class="control-group">
                            <label>Pan</label>
                            <input type="range" class="pan-slider" min="-100" max="100" value="0">
                            <span class="value">C</span>
                        </div>
                        <div class="control-group">
                            <label>Mute</label>
                            <button class="toggle-button mute-button">M</button>
                        </div>
                        <div class="control-group">
                            <label>Solo</label>
                            <button class="toggle-button solo-button">S</button>
                        </div>
                    </div>
                </div>

                <!-- Effect Properties -->
                <div class="sidebar-section effect-properties">
                    <h3>Effect Properties</h3>
                    <div class="effect-parameters">
                        <!-- Effect parameters will be dynamically populated -->
                    </div>
                </div>

                <!-- Mixer -->
                <div class="sidebar-section mixer">
                    <h3>Mixer</h3>
                    <div class="mixer-channels">
                        <!-- Mixer channels will be dynamically populated -->
                    </div>
                    <div class="master-channel">
                        <div class="channel-header">Master</div>
                        <div class="channel-fader">
                            <input type="range" class="fader" min="0" max="100" value="100">
                        </div>
                        <div class="channel-meter">
                            <div class="meter-left"></div>
                            <div class="meter-right"></div>
                        </div>
                    </div>
                </div>
            </aside>
        </div>

        <!-- Bottom Panel -->
        <div class="bottom-panel">
            <!-- Transport Bar -->
            <div class="transport-bar">
                <div class="tempo-controls">
                    <label>BPM</label>
                    <input type="number" id="tempoInput" min="20" max="300" value="120">
                </div>
                <div class="time-signature">
                    <select id="timeSignatureNumerator">
                        <option value="4">4</option>
                        <option value="3">3</option>
                        <option value="6">6</option>
                    </select>
                    /
                    <select id="timeSignatureDenominator">
                        <option value="4">4</option>
                        <option value="8">8</option>
                    </select>
                </div>
                <div class="metronome-controls">
                    <button id="metronomeBtn" class="toggle-button">üéµ</button>
                    <input type="range" id="metronomeVolume" min="0" max="100" value="50">
                </div>
            </div>

            <!-- Markers List -->
            <div class="markers-list">
                <!-- Markers will be dynamically populated -->
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Export Modal -->
    <div id="exportModal" class="modal">
        <div class="modal-content">
            <h2>Export Audio</h2>
            <div class="export-options">
                <div class="format-selection">
                    <label>Format:</label>
                    <select id="exportFormat">
                        <option value="wav">WAV</option>
                        <option value="mp3">MP3</option>
                        <option value="ogg">OGG</option>
                        <option value="flac">FLAC</option>
                    </select>
                </div>
                <div class="quality-options">
                    <label>Quality:</label>
                    <select id="exportQuality">
                        <option value="16">16-bit</option>
                        <option value="24">24-bit</option>
                        <option value="32">32-bit float</option>
                    </select>
                </div>
                <div class="sample-rate">
                    <label>Sample Rate:</label>
                    <select id="exportSampleRate">
                        <option value="44100">44.1 kHz</option>
                        <option value="48000">48 kHz</option>
                        <option value="96000">96 kHz</option>
                    </select>
                </div>
            </div>
            <div class="modal-actions">
                <button class="secondary-button" data-action="cancel">Cancel</button>
                <button class="primary-button" data-action="export">Export</button>
            </div>
        </div>
    </div>

    <!-- Effect Modal -->
    <div id="effectModal" class="modal">
        <div class="modal-content">
            <!-- Effect parameters will be dynamically populated -->
        </div>
    </div>

    <!-- Scripts -->
    <script src="../../lib/wavesurfer.js/wavesurfer.min.js"></script>
    <script src="../../lib/tone.js/tone.min.js"></script>
    <script src="../../js/tools/audio-editor.js"></script>
</body>
</html> 