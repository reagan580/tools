<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network & API Testing Tool</title>
    <link rel="stylesheet" href="../../css/tools/api-tester.css">
</head>
<body>
    <div class="api-tester-layout">
        <!-- Top Navigation Bar -->
        <nav class="top-nav">
            <div class="nav-left">
                <button id="menuToggle" class="icon-button">‚ò∞</button>
                <div class="file-actions">
                    <button id="newCollectionBtn" class="action-button">
                        <span class="icon">üìÅ</span> New Collection
                    </button>
                    <button id="importBtn" class="action-button">
                        <span class="icon">üì•</span> Import
                    </button>
                    <button id="exportBtn" class="action-button">
                        <span class="icon">üì§</span> Export
                    </button>
                </div>
            </div>
            <div class="nav-center">
                <div class="environment-selector">
                    <select id="environmentSelect">
                        <option value="">No Environment</option>
                    </select>
                    <button id="manageEnvBtn" class="icon-button">‚öôÔ∏è</button>
                </div>
            </div>
            <div class="nav-right">
                <button id="settingsBtn" class="icon-button">‚öôÔ∏è</button>
            </div>
        </nav>

        <!-- Main Content Area -->
        <div class="main-container">
            <!-- Left Sidebar - Collections -->
            <aside class="sidebar left-sidebar">
                <!-- Collections Tree -->
                <div class="sidebar-section collections">
                    <div class="section-header">
                        <h3>Collections</h3>
                        <div class="header-actions">
                            <button class="icon-button" title="New Request">+</button>
                            <button class="icon-button" title="New Folder">üìÅ</button>
                        </div>
                    </div>
                    <div class="collections-tree">
                        <!-- Collections will be dynamically populated -->
                    </div>
                </div>

                <!-- History -->
                <div class="sidebar-section history">
                    <h3>History</h3>
                    <div class="history-list">
                        <!-- Request history will be dynamically populated -->
                    </div>
                </div>
            </aside>

            <!-- Main Request/Response Area -->
            <main class="request-container">
                <!-- Request Builder -->
                <div class="request-builder">
                    <!-- Request URL Bar -->
                    <div class="url-bar">
                        <select class="method-select">
                            <option value="GET">GET</option>
                            <option value="POST">POST</option>
                            <option value="PUT">PUT</option>
                            <option value="DELETE">DELETE</option>
                            <option value="PATCH">PATCH</option>
                            <option value="HEAD">HEAD</option>
                            <option value="OPTIONS">OPTIONS</option>
                        </select>
                        <input type="text" class="url-input" placeholder="Enter request URL">
                        <button class="send-button">Send</button>
                        <button class="save-button">Save</button>
                    </div>

                    <!-- Request Configuration Tabs -->
                    <div class="request-tabs">
                        <div class="tab-headers">
                            <button class="tab-button active" data-tab="params">Params</button>
                            <button class="tab-button" data-tab="headers">Headers</button>
                            <button class="tab-button" data-tab="body">Body</button>
                            <button class="tab-button" data-tab="auth">Auth</button>
                            <button class="tab-button" data-tab="pre-request">Pre-request Script</button>
                            <button class="tab-button" data-tab="tests">Tests</button>
                        </div>

                        <!-- Params Tab -->
                        <div class="tab-content active" data-tab="params">
                            <div class="key-value-editor">
                                <table>
                                    <thead>
                                        <tr>
                                            <th></th>
                                            <th>Key</th>
                                            <th>Value</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- Query parameters will be dynamically populated -->
                                    </tbody>
                                </table>
                                <button class="add-row-button">+ Add Parameter</button>
                            </div>
                        </div>

                        <!-- Headers Tab -->
                        <div class="tab-content" data-tab="headers">
                            <div class="key-value-editor">
                                <table>
                                    <thead>
                                        <tr>
                                            <th></th>
                                            <th>Header</th>
                                            <th>Value</th>
                                            <th>Description</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- Headers will be dynamically populated -->
                                    </tbody>
                                </table>
                                <button class="add-row-button">+ Add Header</button>
                            </div>
                        </div>

                        <!-- Body Tab -->
                        <div class="tab-content" data-tab="body">
                            <div class="body-type-selector">
                                <select>
                                    <option value="none">None</option>
                                    <option value="form-data">Form Data</option>
                                    <option value="x-www-form-urlencoded">x-www-form-urlencoded</option>
                                    <option value="raw">Raw</option>
                                    <option value="binary">Binary</option>
                                </select>
                            </div>
                            <div class="body-editor">
                                <!-- Body content will be dynamically populated based on type -->
                            </div>
                        </div>

                        <!-- Auth Tab -->
                        <div class="tab-content" data-tab="auth">
                            <div class="auth-type-selector">
                                <select>
                                    <option value="none">No Auth</option>
                                    <option value="basic">Basic Auth</option>
                                    <option value="bearer">Bearer Token</option>
                                    <option value="oauth2">OAuth 2.0</option>
                                    <option value="apikey">API Key</option>
                                </select>
                            </div>
                            <div class="auth-form">
                                <!-- Auth form will be dynamically populated based on type -->
                            </div>
                        </div>

                        <!-- Pre-request Script Tab -->
                        <div class="tab-content" data-tab="pre-request">
                            <div class="script-editor">
                                <textarea class="pre-request-script"></textarea>
                            </div>
                        </div>

                        <!-- Tests Tab -->
                        <div class="tab-content" data-tab="tests">
                            <div class="script-editor">
                                <textarea class="tests-script"></textarea>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Response Viewer -->
                <div class="response-viewer">
                    <div class="response-meta">
                        <div class="status">
                            <span class="status-code"></span>
                            <span class="status-text"></span>
                        </div>
                        <div class="time">
                            <span class="time-taken"></span>
                        </div>
                        <div class="size">
                            <span class="response-size"></span>
                        </div>
                    </div>

                    <div class="response-tabs">
                        <div class="tab-headers">
                            <button class="tab-button active" data-tab="body">Body</button>
                            <button class="tab-button" data-tab="headers">Headers</button>
                            <button class="tab-button" data-tab="cookies">Cookies</button>
                            <button class="tab-button" data-tab="test-results">Test Results</button>
                        </div>

                        <!-- Response Body Tab -->
                        <div class="tab-content active" data-tab="body">
                            <div class="body-view-controls">
                                <select class="body-view-type">
                                    <option value="pretty">Pretty</option>
                                    <option value="raw">Raw</option>
                                    <option value="preview">Preview</option>
                                </select>
                            </div>
                            <div class="response-body">
                                <!-- Response body will be dynamically populated -->
                            </div>
                        </div>

                        <!-- Response Headers Tab -->
                        <div class="tab-content" data-tab="headers">
                            <div class="response-headers">
                                <!-- Response headers will be dynamically populated -->
                            </div>
                        </div>

                        <!-- Cookies Tab -->
                        <div class="tab-content" data-tab="cookies">
                            <div class="response-cookies">
                                <!-- Cookies will be dynamically populated -->
                            </div>
                        </div>

                        <!-- Test Results Tab -->
                        <div class="tab-content" data-tab="test-results">
                            <div class="test-results">
                                <!-- Test results will be dynamically populated -->
                            </div>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Right Sidebar - Documentation -->
            <aside class="sidebar right-sidebar">
                <!-- Documentation -->
                <div class="sidebar-section documentation">
                    <h3>Documentation</h3>
                    <div class="documentation-content">
                        <!-- Documentation will be dynamically populated -->
                    </div>
                </div>

                <!-- Variables -->
                <div class="sidebar-section variables">
                    <h3>Variables</h3>
                    <div class="variables-list">
                        <!-- Variables will be dynamically populated -->
                    </div>
                </div>
            </aside>
        </div>

        <!-- Bottom Panel -->
        <div class="bottom-panel">
            <!-- Console -->
            <div class="console-panel">
                <div class="console-header">
                    <h3>Console</h3>
                    <button class="clear-console">Clear</button>
                </div>
                <div class="console-output">
                    <!-- Console output will be dynamically populated -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Environment Manager Modal -->
    <div id="environmentModal" class="modal">
        <div class="modal-content">
            <h2>Manage Environments</h2>
            <div class="environments-list">
                <!-- Environments will be dynamically populated -->
            </div>
            <div class="environment-editor">
                <div class="key-value-editor">
                    <table>
                        <thead>
                            <tr>
                                <th>Variable</th>
                                <th>Initial Value</th>
                                <th>Current Value</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Environment variables will be dynamically populated -->
                        </tbody>
                    </table>
                    <button class="add-row-button">+ Add Variable</button>
                </div>
            </div>
            <div class="modal-actions">
                <button class="secondary-button" data-action="cancel">Cancel</button>
                <button class="primary-button" data-action="save">Save</button>
            </div>
        </div>
    </div>

    <!-- Import/Export Modal -->
    <div id="importExportModal" class="modal">
        <div class="modal-content">
            <h2>Import/Export Collections</h2>
            <div class="import-export-options">
                <div class="format-selection">
                    <label>Format:</label>
                    <select>
                        <option value="postman">Postman Collection</option>
                        <option value="openapi">OpenAPI/Swagger</option>
                        <option value="curl">cURL</option>
                        <option value="har">HAR</option>
                    </select>
                </div>
            </div>
            <div class="modal-actions">
                <button class="secondary-button" data-action="cancel">Cancel</button>
                <button class="primary-button" data-action="import">Import</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../../lib/monaco-editor/monaco.js"></script>
    <script src="../../js/tools/api-tester.js"></script>
</body>
</html> 