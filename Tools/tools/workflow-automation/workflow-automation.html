<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Automation & Workflow Tool</title>
    <link rel="stylesheet" href="../../css/tools/workflow-automation.css">
</head>
<body>
    <div class="workflow-automation-layout">
        <!-- Top Navigation Bar -->
        <nav class="top-nav">
            <div class="nav-left">
                <button id="menuToggle" class="icon-button">‚ò∞</button>
                <div class="workflow-actions">
                    <button id="newWorkflowBtn" class="action-button">
                        <span class="icon">üìÑ</span> New Workflow
                    </button>
                    <button id="saveWorkflowBtn" class="action-button" disabled>
                        <span class="icon">üíæ</span> Save
                    </button>
                    <button id="runWorkflowBtn" class="action-button primary" disabled>
                        <span class="icon">‚ñ∂Ô∏è</span> Run
                    </button>
                </div>
            </div>
            <div class="nav-center">
                <div class="workflow-status">
                    <span class="status-icon">‚≠ï</span>
                    <span class="status-text">Ready</span>
                </div>
            </div>
            <div class="nav-right">
                <button id="importBtn" class="action-button">
                    <span class="icon">üì•</span> Import
                </button>
                <button id="exportBtn" class="action-button">
                    <span class="icon">üì§</span> Export
                </button>
                <button id="settingsBtn" class="icon-button">‚öôÔ∏è</button>
            </div>
        </nav>

        <!-- Main Content Area -->
        <div class="main-container">
            <!-- Left Sidebar - Tasks & Triggers -->
            <aside class="sidebar left-sidebar">
                <!-- Task Categories -->
                <div class="sidebar-section task-categories">
                    <h3>Tasks</h3>
                    <div class="category-list">
                        <!-- File Operations -->
                        <div class="category">
                            <h4>File Operations</h4>
                            <div class="task-list">
                                <div class="task-item" draggable="true" data-task="file-read">
                                    <span class="icon">üìñ</span> Read File
                                </div>
                                <div class="task-item" draggable="true" data-task="file-write">
                                    <span class="icon">üìù</span> Write File
                                </div>
                                <div class="task-item" draggable="true" data-task="file-copy">
                                    <span class="icon">üìã</span> Copy File
                                </div>
                                <div class="task-item" draggable="true" data-task="file-delete">
                                    <span class="icon">üóëÔ∏è</span> Delete File
                                </div>
                            </div>
                        </div>

                        <!-- Data Processing -->
                        <div class="category">
                            <h4>Data Processing</h4>
                            <div class="task-list">
                                <div class="task-item" draggable="true" data-task="data-transform">
                                    <span class="icon">üîÑ</span> Transform Data
                                </div>
                                <div class="task-item" draggable="true" data-task="data-filter">
                                    <span class="icon">üîç</span> Filter Data
                                </div>
                                <div class="task-item" draggable="true" data-task="data-merge">
                                    <span class="icon">üîó</span> Merge Data
                                </div>
                                <div class="task-item" draggable="true" data-task="data-export">
                                    <span class="icon">üì§</span> Export Data
                                </div>
                            </div>
                        </div>

                        <!-- API & Network -->
                        <div class="category">
                            <h4>API & Network</h4>
                            <div class="task-list">
                                <div class="task-item" draggable="true" data-task="http-request">
                                    <span class="icon">üåê</span> HTTP Request
                                </div>
                                <div class="task-item" draggable="true" data-task="api-call">
                                    <span class="icon">üì°</span> API Call
                                </div>
                                <div class="task-item" draggable="true" data-task="webhook">
                                    <span class="icon">üîó</span> Webhook
                                </div>
                            </div>
                        </div>

                        <!-- Database -->
                        <div class="category">
                            <h4>Database</h4>
                            <div class="task-list">
                                <div class="task-item" draggable="true" data-task="db-query">
                                    <span class="icon">üìä</span> Query Database
                                </div>
                                <div class="task-item" draggable="true" data-task="db-insert">
                                    <span class="icon">‚ûï</span> Insert Data
                                </div>
                                <div class="task-item" draggable="true" data-task="db-update">
                                    <span class="icon">üìù</span> Update Data
                                </div>
                            </div>
                        </div>

                        <!-- Automation -->
                        <div class="category">
                            <h4>Automation</h4>
                            <div class="task-list">
                                <div class="task-item" draggable="true" data-task="schedule">
                                    <span class="icon">‚è∞</span> Schedule
                                </div>
                                <div class="task-item" draggable="true" data-task="condition">
                                    <span class="icon">üîÄ</span> Condition
                                </div>
                                <div class="task-item" draggable="true" data-task="loop">
                                    <span class="icon">üîÅ</span> Loop
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Triggers -->
                <div class="sidebar-section triggers">
                    <h3>Triggers</h3>
                    <div class="trigger-list">
                        <div class="trigger-item" draggable="true" data-trigger="schedule">
                            <span class="icon">‚è∞</span> Schedule
                        </div>
                        <div class="trigger-item" draggable="true" data-trigger="file-change">
                            <span class="icon">üìÑ</span> File Change
                        </div>
                        <div class="trigger-item" draggable="true" data-trigger="webhook">
                            <span class="icon">üîó</span> Webhook
                        </div>
                        <div class="trigger-item" draggable="true" data-trigger="database">
                            <span class="icon">üìä</span> Database Change
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Main Workflow Canvas -->
            <main class="workflow-container">
                <!-- Workflow Canvas -->
                <div class="workflow-canvas">
                    <!-- Workflow nodes will be dynamically added here -->
                </div>

                <!-- Mini-map -->
                <div class="workflow-minimap">
                    <!-- Minimap will show a small version of the workflow -->
                </div>
            </main>

            <!-- Right Sidebar - Properties -->
            <aside class="sidebar right-sidebar">
                <!-- Node Properties -->
                <div class="sidebar-section properties">
                    <h3>Properties</h3>
                    <div class="properties-content">
                        <!-- Node properties will be dynamically populated -->
                    </div>
                </div>

                <!-- Variables -->
                <div class="sidebar-section variables">
                    <h3>Variables</h3>
                    <div class="variables-list">
                        <table>
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Value</th>
                                    <th>Type</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Variables will be dynamically populated -->
                            </tbody>
                        </table>
                        <button class="add-variable-btn">+ Add Variable</button>
                    </div>
                </div>
            </aside>
        </div>

        <!-- Bottom Panel -->
        <div class="bottom-panel">
            <!-- Execution Logs -->
            <div class="logs-panel">
                <div class="panel-header">
                    <h3>Execution Logs</h3>
                    <div class="header-actions">
                        <button class="clear-logs">Clear</button>
                        <select class="log-level">
                            <option value="debug">Debug</option>
                            <option value="info">Info</option>
                            <option value="warning">Warning</option>
                            <option value="error">Error</option>
                        </select>
                    </div>
                </div>
                <div class="logs-content">
                    <!-- Logs will be dynamically populated -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Task Configuration Modal -->
    <div id="taskConfigModal" class="modal">
        <div class="modal-content">
            <h2>Configure Task</h2>
            <div class="task-config">
                <!-- Task configuration form will be dynamically populated -->
            </div>
            <div class="modal-actions">
                <button class="secondary-button" data-action="cancel">Cancel</button>
                <button class="primary-button" data-action="save">Save</button>
            </div>
        </div>
    </div>

    <!-- Trigger Configuration Modal -->
    <div id="triggerConfigModal" class="modal">
        <div class="modal-content">
            <h2>Configure Trigger</h2>
            <div class="trigger-config">
                <!-- Trigger configuration form will be dynamically populated -->
            </div>
            <div class="modal-actions">
                <button class="secondary-button" data-action="cancel">Cancel</button>
                <button class="primary-button" data-action="save">Save</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../../lib/jsplumb/jsplumb.min.js"></script>
    <script src="../../js/tools/workflow-automation.js"></script>
</body>
</html> 